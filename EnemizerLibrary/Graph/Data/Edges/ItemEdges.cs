using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace EnemizerLibrary.Data
{
    public class ItemEdges
    {
        GraphData _graphData;
        public ItemEdges(GraphData graphData)
        {
            this._graphData = graphData;
            this.Edges = new List<Edge>();
            FillItemEdges();
        }

        class RawItemEdge
        {
            public string SrcId;
            public string DestId;
            public string Requirements;
            public RawItemEdge(string srcId, string destId, string requirements = "")
            {
                this.SrcId = srcId;
                this.DestId = destId;
                this.Requirements = requirements;
            }
        }

        List<RawItemEdge> _rawItemEdges = new List<RawItemEdge>()
        {
            { new RawItemEdge("00-lost-woods", "ow-mushroom-item", "") },
            { new RawItemEdge("03-west-death-mountain-lower", "ow-old-man-item", "Lamp,L1 Gloves;Lamp,Flute") },
            { new RawItemEdge("03-west-death-mountain-spectical", "ow-spectical-rock-item", "") },
            { new RawItemEdge("03-west-death-mountain-upper", "ow-ether-tablet-item", "L2 Sword,Book") },
            { new RawItemEdge("05-east-death-mountain", "ow-dm-floating-island-item", "") },
            { new RawItemEdge("18-kakariko", "ow-bottle-vendor-item", "") },
            { new RawItemEdge("28-kakariko-maze-race", "ow-maze-race-item", "") },
            { new RawItemEdge("2A-haunted-grove", "ow-haunted-grove-item", "Shovel") },
            { new RawItemEdge("30-desert-bombos-tablet", "ow-bombos-tablet-item", "L2 Sword,Book") },
            { new RawItemEdge("30-desert-ledge", "ow-desert-ledge-item", "") },
            { new RawItemEdge("35-lake-hylia-island", "ow-lake-island-item", "") },
            { new RawItemEdge("3A-between-desert-swamp", "ow-purple-chest-item", "<Purple Chest>") },
            { new RawItemEdge("3B-southwest-swamp", "ow-dam-item", "") },
            { new RawItemEdge("4A-bumper-cave", "ow-bumper-cave-item", "Cape") },
            { new RawItemEdge("4F-catfish", "ow-catfish-item", "") },
            { new RawItemEdge("5B-pyramid", "ow-pyramid-item", "") },
            { new RawItemEdge("68-digging-game", "ow-digging-game-item", "") },
            { new RawItemEdge("6A-dw-haunted-grove", "ow-flute-boy-item", "") },
            { new RawItemEdge("80-hobo", "ow-hobo-item", "Flippers") },
            { new RawItemEdge("80-master-sword", "ow-pedestal-item", "<Pendant Green>,<Pendant Red>,<Pendant Blue>") },
            { new RawItemEdge("81-zora-domain", "ow-zora-king-item", "") },
            { new RawItemEdge("81-zora-domain", "ow-zora-ledge-item", "Flippers") },
            { new RawItemEdge("agahnim-dark-maze", "agahnim-dark-maze-chest", "") },
            { new RawItemEdge("agahnim-entrance", "agahnim-entrance-chest", "") },
            { new RawItemEdge("cave-aginah", "cave-aginah-chest", "") },
            { new RawItemEdge("cave-big-bomb-shop", "cave-big-bomb-shop-chest", "") },
            { new RawItemEdge("cave-blinds-basement", "cave-blinds-basement-chest1", "") },
            { new RawItemEdge("cave-blinds-basement", "cave-blinds-basement-chest2", "") },
            { new RawItemEdge("cave-blinds-basement", "cave-blinds-basement-chest3", "") },
            { new RawItemEdge("cave-blinds-basement", "cave-blinds-basement-chest4", "") },
            { new RawItemEdge("cave-blinds-basement", "cave-blinds-basement-chest5", "") },
            { new RawItemEdge("cave-bonk-rocks", "cave-bonk-rocks-chest", "") },
            { new RawItemEdge("cave-checkerboard", "cave-checkerboard-chest", "") },
            { new RawItemEdge("cave-chicken-hut", "cave-chicken-hut-chest", "") },
            { new RawItemEdge("cave-dam", "cave-dam-chest", "") },
            { new RawItemEdge("cave-dw-bomb-house", "cave-dw-doorless-hut-chest", "") },
            { new RawItemEdge("cave-dw-chest-game", "cave-dw-chest-game-chest", "") },
            { new RawItemEdge("cave-graveyard-mirror-cave", "cave-graveyard-mirror-cave-chest", "") },
            { new RawItemEdge("cave-hammer-pegs", "cave-hammer-pegs-chest", "") },
            { new RawItemEdge("cave-haunted-mirror-cave", "cave-haunted-mirror-cave-chest", "") },
            { new RawItemEdge("cave-hookshot-entrance", "cave-hookshot-entrance-chest1", "Hookshot") },
            { new RawItemEdge("cave-hookshot-entrance", "cave-hookshot-entrance-chest2", "Hookshot") },
            { new RawItemEdge("cave-hookshot-entrance", "cave-hookshot-entrance-chest3", "Hookshot") },
            { new RawItemEdge("cave-hookshot-entrance", "cave-hookshot-entrance-chest4", "Hookshot;Boots") },
            { new RawItemEdge("cave-hype-cave", "cave-hype-cave-chest", "") },
            { new RawItemEdge("cave-hype-cave", "cave-hype-cave-chest1", "") },
            { new RawItemEdge("cave-hype-cave", "cave-hype-cave-chest2", "") },
            { new RawItemEdge("cave-hype-cave", "cave-hype-cave-chest3", "") },
            { new RawItemEdge("cave-hype-cave", "cave-hype-cave-chest4", "") },
            { new RawItemEdge("cave-ice-rod", "cave-ice-rod-chest", "") },
            { new RawItemEdge("cave-inn-top", "cave-inn-top-chest", "") },
            { new RawItemEdge("cave-kakariko-well", "cave-kakariko-well-chest1", "") },
            { new RawItemEdge("cave-kakariko-well", "cave-kakariko-well-chest2", "") },
            { new RawItemEdge("cave-kakariko-well", "cave-kakariko-well-chest3", "") },
            { new RawItemEdge("cave-kakariko-well", "cave-kakariko-well-chest4", "") },
            { new RawItemEdge("cave-kakariko-well", "cave-kakariko-well-chest5", "") },
            { new RawItemEdge("cave-kings-tomb", "cave-kings-tomb-chest", "") },
            { new RawItemEdge("cave-library", "cave-library-chest", "Boots") },
            { new RawItemEdge("cave-links-house", "cave-links-house-chest", "") },
            { new RawItemEdge("cave-lumberjack-tree", "cave-lumberjack-tree-chest", "<Agahnim 1>,Boots") },
            { new RawItemEdge("cave-magic-bat", "cave-magic-bat-chest", "Powder,Hammer;Powder,L2 Gloves,Mirror,Moon Pearl") },
            { new RawItemEdge("cave-mimic-cave", "cave-mimic-cave-chest", "Hammer") },
            { new RawItemEdge("cave-mini-moldorm", "cave-mini-moldorm-chest1", "") },
            { new RawItemEdge("cave-mini-moldorm", "cave-mini-moldorm-chest2", "") },
            { new RawItemEdge("cave-mini-moldorm", "cave-mini-moldorm-chest3", "") },
            { new RawItemEdge("cave-mini-moldorm", "cave-mini-moldorm-chest4", "") },
            { new RawItemEdge("cave-mini-moldorm", "cave-mini-moldorm-guy", "") },
            { new RawItemEdge("cave-mire-chests", "cave-mire-chests-chest1", "") },
            { new RawItemEdge("cave-mire-chests", "cave-mire-chests-chest2", "") },
            { new RawItemEdge("cave-pyramid-fairy", "cave-pyramid-fairy-chest1", "") },
            { new RawItemEdge("cave-pyramid-fairy", "cave-pyramid-fairy-chest2", "") },
            { new RawItemEdge("cave-shabadoo-house", "cave-shabadoo-house-chest1", "") },
            { new RawItemEdge("cave-shabadoo-house", "cave-shabadoo-house-chest2", "") },
            { new RawItemEdge("cave-shabadoo-house", "cave-shabadoo-house-chest3", "") },
            { new RawItemEdge("cave-shabadoo-house", "cave-shabadoo-house-shabadoo", "<Pendant Green>") },
            { new RawItemEdge("cave-sick-kid", "cave-sick-kid-chest", "Bottle") },
            { new RawItemEdge("cave-smith-house", "cave-smith-house-item", "<Smith>") },
            { new RawItemEdge("cave-spectical-rock-upper-back", "cave-spectical-rock-upper-back-chest", "") },
            { new RawItemEdge("cave-spike-cave", "cave-spike-cave-chest", "Hammer,Cape;Hammer,Byrna;Hammer,Bottle") },
            { new RawItemEdge("cave-spiral-cave-exit", "cave-spiral-cave-exit-chest", "") },
            { new RawItemEdge("cave-super-bunny-chests", "cave-super-bunny-chests-chest1", "") },
            { new RawItemEdge("cave-super-bunny-chests", "cave-super-bunny-chests-chest2", "") },
            { new RawItemEdge("cave-thief-hut-drop", "cave-thief-hut-drop-chest", "") },
            { new RawItemEdge("cave-uncle-death", "cave-uncle-death-chest", "") },
            { new RawItemEdge("cave-uncle-death", "cave-uncle-death-uncle", "") },
            { new RawItemEdge("cave-upside-down-2-chest", "cave-upside-down-2-chest-chest1", "") },
            { new RawItemEdge("cave-upside-down-2-chest", "cave-upside-down-2-chest-chest2", "") },
            { new RawItemEdge("cave-upside-down-5-chest", "cave-upside-down-5-chest-chest1", "") },
            { new RawItemEdge("cave-upside-down-5-chest", "cave-upside-down-5-chest-chest2", "") },
            { new RawItemEdge("cave-upside-down-5-chest", "cave-upside-down-5-chest-chest3", "") },
            { new RawItemEdge("cave-upside-down-5-chest", "cave-upside-down-5-chest-chest4", "") },
            { new RawItemEdge("cave-upside-down-5-chest", "cave-upside-down-5-chest-chest5", "") },
            { new RawItemEdge("cave-witch-shop", "cave-witch-shop-chest", "Mushroom") },
            { new RawItemEdge("cave-zora-waterfall-wishing", "cave-zora-waterfall-wishing-chest1", "") },
            { new RawItemEdge("cave-zora-waterfall-wishing", "cave-zora-waterfall-wishing-chest2", "") },
            { new RawItemEdge("desert-big-chest", "desert-big-chest-chest", "<Desert Big Key>") },
            { new RawItemEdge("desert-big-key", "desert-big-key-chest", "") },
            { new RawItemEdge("desert-east-entrance-chest", "desert-east-entrance-chest-chest", "") },
            { new RawItemEdge("desert-lanmolas", "desert-boss-item", "[Desert Boss]") },
            { new RawItemEdge("desert-lanmolas", "desert-boss-pendant", "[Desert Boss]") },
            { new RawItemEdge("desert-map-chest", "desert-map-chest-chest", "") },
            { new RawItemEdge("desert-torch-key", "desert-torch-key-chest", "Boots") },
            { new RawItemEdge("eastern-armos", "eastern-boss-item", "[Eastern Boss]") },
            { new RawItemEdge("eastern-armos", "eastern-boss-pendant", "[Eastern Boss]") },
            { new RawItemEdge("eastern-big-chest-lower", "eastern-big-chest-lower-chest", "") },
            { new RawItemEdge("eastern-big-key", "eastern-big-key-chest", "") },
            { new RawItemEdge("eastern-lobby-cannon", "eastern-lobby-cannon-chest", "") },
            { new RawItemEdge("eastern-map-upper", "eastern-map-upper-chest", "") },
            { new RawItemEdge("eastern-stalfos-lower", "eastern-stalfos-lower-chest", "") },
            { new RawItemEdge("gt-4-chest-left", "gt-4-chest-left-chest1", "") },
            { new RawItemEdge("gt-4-chest-left", "gt-4-chest-left-chest2", "") },
            { new RawItemEdge("gt-4-chest-left", "gt-4-chest-left-chest3", "") },
            { new RawItemEdge("gt-4-chest-left", "gt-4-chest-left-chest4", "") },
            { new RawItemEdge("gt-armos-chests", "gt-armos-chests-chest1", "") },
            { new RawItemEdge("gt-armos-chests", "gt-armos-chests-chest2", "") },
            { new RawItemEdge("gt-armos-chests", "gt-armos-chests-chest3", "") },
            { new RawItemEdge("gt-big-chest", "gt-big-chest-chest", "<GT Big Key>") },
            { new RawItemEdge("gt-bomb-trap", "gt-bomb-trap-chest", "") },
            { new RawItemEdge("gt-fire-snakes", "gt-fire-snakes-chest", "") },
            { new RawItemEdge("gt-hidden-chests", "gt-hidden-chests-chest1", "") },
            { new RawItemEdge("gt-hidden-chests", "gt-hidden-chests-chest2", "") },
            { new RawItemEdge("gt-hidden-chests", "gt-hidden-chests-chest3", "") },
            { new RawItemEdge("gt-hidden-chests", "gt-hidden-chests-chest4", "") },
            { new RawItemEdge("gt-left", "gt-left-torch-item", "Boots") },
            { new RawItemEdge("gt-mini-helma", "gt-mini-helma-chest1", "") },
            { new RawItemEdge("gt-mini-helma", "gt-mini-helma-chest2", "") },
            { new RawItemEdge("gt-moldorm", "gt-moldorm-chest", "[GT Moldorm Boss]") },
            { new RawItemEdge("gt-pre-armos", "gt-pre-armos-chest", "") },
            { new RawItemEdge("gt-right", "gt-right-chest1", "") },
            { new RawItemEdge("gt-right", "gt-right-chest2", "") },
            { new RawItemEdge("gt-right-four", "gt-right-four-chest1", "") },
            { new RawItemEdge("gt-right-four", "gt-right-four-chest2", "") },
            { new RawItemEdge("gt-right-four", "gt-right-four-chest3", "") },
            { new RawItemEdge("gt-right-four", "gt-right-four-chest4", "") },
            { new RawItemEdge("gt-star-chest", "gt-star-chest-chest", "") },
            { new RawItemEdge("gt-tile-trap", "gt-tile-trap-chest", "") },
            { new RawItemEdge("hera-basement-free", "hera-basement-free-item", "") },
            { new RawItemEdge("hera-basement-tiles", "hera-basement-tiles-chest", "Fire Rod;Lamp") },
            { new RawItemEdge("hera-big-chest", "hera-big-chest-chest1", "<Hera Big Key>") },
            { new RawItemEdge("hera-big-chest", "hera-big-chest-chest2", "") },
            { new RawItemEdge("hera-entrance", "hera-entrance-chest", "") },
            { new RawItemEdge("hera-moldorm", "hera-boss-pendant", "[Hera Boss]") },
            { new RawItemEdge("hera-moldorm", "hera-moldorm-chest", "[Hera Boss]") },
            { new RawItemEdge("hyrule-basement-boomerang", "hyrule-basement-boomerang-chest", "") },
            { new RawItemEdge("hyrule-basement-jail", "hyrule-basement-jail-chest", "<Hyrule Big Key>") },
            { new RawItemEdge("hyrule-basement-map", "hyrule-basement-map-chest", "") },
            { new RawItemEdge("hyrule-escape-bombable", "hyrule-escape-bombable-chest1", "") },
            { new RawItemEdge("hyrule-escape-bombable", "hyrule-escape-bombable-chest2", "") },
            { new RawItemEdge("hyrule-escape-bombable", "hyrule-escape-bombable-chest3", "") },
            { new RawItemEdge("hyrule-escape-cross", "hyrule-escape-cross-chest", "") },
            { new RawItemEdge("ice-big-chest", "ice-big-chest-chest", "<Ice Big Key>") },
            { new RawItemEdge("ice-big-key-chest", "ice-big-key-chest-chest", "") },
            { new RawItemEdge("ice-iceman-chest", "ice-iceman-chest-chest", "Bombos;Fire Rod") },
            { new RawItemEdge("ice-kholdstare", "ice-boss-chest", "[Ice Boss]") },
            { new RawItemEdge("ice-kholdstare", "ice-boss-crystal", "[Ice Boss]") },
            { new RawItemEdge("ice-pengator-chest", "ice-pengator-chest-chest", "") },
            { new RawItemEdge("ice-spike-chest", "ice-spike-chest-chest", "") },
            { new RawItemEdge("ice-two-bari-chest", "ice-two-bari-chest-chest", "") },
            { new RawItemEdge("ice-two-tongue", "ice-two-tongue-chest", "") },
            { new RawItemEdge("mire-big-chest", "mire-big-chest-chest", "<Mire Big Key>") },
            { new RawItemEdge("mire-big-key-chest", "mire-big-key-chest-chest", "") },
            { new RawItemEdge("mire-block-chest", "mire-block-chest-chest", "") },
            { new RawItemEdge("mire-bridge-chest", "mire-bridge-chest-chest", "") },
            { new RawItemEdge("mire-hub-blocks", "mire-hub-blocks-chest", "") },
            { new RawItemEdge("mire-small-chest", "mire-small-chest-chest", "") },
            { new RawItemEdge("mire-spike-chest", "mire-spike-chest-chest", "") },
            { new RawItemEdge("mire-vitreous", "mire-boss-crystal", "[Mire Boss]") },
            { new RawItemEdge("mire-vitreous", "mire-boss-item", "[Mire Boss]") },
            { new RawItemEdge("pod-basement-left", "pod-basement-left-chest", "") },
            { new RawItemEdge("pod-big-chest-platform", "pod-big-chest-platform-chest", "<PoD Big Key>") },
            { new RawItemEdge("pod-big-chest-spikes", "pod-big-chest-spikes-chest", "") },
            { new RawItemEdge("pod-big-chest-turtles", "pod-big-chest-turtles-chest", "") },
            { new RawItemEdge("pod-big-hub-main", "pod-big-hub-main-chest", "") },
            { new RawItemEdge("pod-big-hub-small-platform", "pod-big-hub-small-platform-chest", "") },
            { new RawItemEdge("pod-bombable-big-key", "pod-bombable-big-key-chest", "") },
            { new RawItemEdge("pod-dark-maze", "pod-dark-maze-chest1", "") },
            { new RawItemEdge("pod-dark-maze", "pod-dark-maze-chest2", "") },
            { new RawItemEdge("pod-helmasaur", "pod-boss-crystal", "[PoD Boss]") },
            { new RawItemEdge("pod-helmasaur", "pod-boss-item", "[PoD Boss]") },
            { new RawItemEdge("pod-hidden-switch-upper", "pod-hidden-switch-upper-chest", "") },
            { new RawItemEdge("pod-rupee-room-outer", "pod-rupee-room-outer-chest1", "") },
            { new RawItemEdge("pod-rupee-room-outer", "pod-rupee-room-outer-chest2", "") },
            { new RawItemEdge("pod-stalfos-trap", "pod-stalfos-trap-chest", "") },
            { new RawItemEdge("sanctuary", "sanctuary-chest", "") },
            { new RawItemEdge("skull-big-chest", "skull-big-chest-chest1", "<Skull Big Key>") },
            { new RawItemEdge("skull-big-chest", "skull-big-chest-chest2", "") },
            { new RawItemEdge("skull-boss-entrance", "skull-boss-entrance-chest", "") },
            { new RawItemEdge("skull-compass-chest", "skull-compass-chest-chest", "") },
            { new RawItemEdge("skull-gibdo-chest", "skull-gibdo-chest-chest", "") },
            { new RawItemEdge("skull-mothula", "skull-boss-crystal", "[Skull Boss]") },
            { new RawItemEdge("skull-mothula", "skull-boss-item", "[Skull Boss]") },
            { new RawItemEdge("skull-statue-switch", "skull-statue-switch-chest", "") },
            { new RawItemEdge("skull-wallmaster-chest", "skull-wallmaster-chest-chest", "") },
            { new RawItemEdge("swamp-53-chest", "swamp-53-chest-chest", "") },
            { new RawItemEdge("swamp-arrghus", "swamp-boss-crystal", "[Swamp Boss]") },
            { new RawItemEdge("swamp-arrghus", "swamp-boss-item", "[Swamp Boss]") },
            { new RawItemEdge("swamp-big-chest", "swamp-big-chest-chest", "<Swamp Big Key>") },
            { new RawItemEdge("swamp-compass-chest", "swamp-compass-chest-chest", "") },
            { new RawItemEdge("swamp-entrance", "swamp-entrance-chest", "") },
            { new RawItemEdge("swamp-map-chest", "swamp-map-chest-chest", "") },
            { new RawItemEdge("swamp-push-block-upper", "swamp-push-block-upper-chest", "") },
            { new RawItemEdge("swamp-water-drain", "swamp-water-drain-chest1", "") },
            { new RawItemEdge("swamp-water-drain", "swamp-water-drain-chest2", "") },
            { new RawItemEdge("swamp-waterfall", "swamp-waterfall-chest", "") },
            { new RawItemEdge("thieves-attic-east", "thieves-attic-east-chest", "") },
            { new RawItemEdge("thieves-big-chest", "thieves-big-chest-chest", "Hammer") },
            { new RawItemEdge("thieves-blind", "thieves-boss-crystal", "[Thieves Boss]") },
            { new RawItemEdge("thieves-blind", "thieves-boss-item", "[Thieves Boss]") },
            { new RawItemEdge("thieves-entrance", "thieves-entrance-chest-chest", "") },
            { new RawItemEdge("thieves-entrance-chest", "thieves-entrance-big-key-chest", "") },
            { new RawItemEdge("thieves-jail", "thieves-jail-chest", "") },
            { new RawItemEdge("thieves-northwest-entrance", "thieves-northwest-entrance-chest", "") },
            { new RawItemEdge("thieves-southeast-entrance", "thieves-southeast-entrance-chest", "") },
            { new RawItemEdge("turtle-2-chest-roller", "turtle-2-chest-roller-chest1", "") },
            { new RawItemEdge("turtle-2-chest-roller", "turtle-2-chest-roller-chest2", "") },
            { new RawItemEdge("turtle-big-chest", "turtle-big-chest-chest", "<Turtle Big Key>") },
            { new RawItemEdge("turtle-big-key-chest-tube", "turtle-big-key-chest-tube-chest", "") },
            { new RawItemEdge("turtle-chain-chomp", "turtle-chain-chomp-chest", "") },
            { new RawItemEdge("turtle-lazer-chests", "turtle-lazer-chests-chest1", "") },
            { new RawItemEdge("turtle-lazer-chests", "turtle-lazer-chests-chest2", "") },
            { new RawItemEdge("turtle-lazer-chests", "turtle-lazer-chests-chest3", "") },
            { new RawItemEdge("turtle-lazer-chests", "turtle-lazer-chests-chest4", "") },
            { new RawItemEdge("turtle-roller-switch", "turtle-roller-switch-chest", "") },
            { new RawItemEdge("turtle-spike-chest", "turtle-spike-chest-chest", "") },
            { new RawItemEdge("turtle-trinexx", "turtle-boss-crystal", "[Turtle Boss]") },
            { new RawItemEdge("turtle-trinexx", "turtle-boss-item", "[Turtle Boss]") },
            { new RawItemEdge("47-turtle-rock", "ow-turtle-rock-medallion", "") },
            { new RawItemEdge("70-mire", "ow-mire-medallion", "") },
            { new RawItemEdge("69-frog-smith", "ow-frog-smith", "L2 Gloves") },
            { new RawItemEdge("62-dw-smith-house", "ow-purple-chest", "L2 Gloves") },
        };

        public List<Edge> Edges { get; private set; }

        void FillItemEdges()
        {
            foreach(var e in _rawItemEdges)
            {
                Node src;
                Node dest;
                if(!_graphData.AllNodes.TryGetValue(e.SrcId, out src))
                {
                    throw new Exception($"FillItemEdges - invalid source {e.SrcId}");
                }
                if (!_graphData.AllNodes.TryGetValue(e.DestId, out dest))
                {
                    throw new Exception($"FillItemEdges - invalid destination {e.DestId}");
                }
                Edges.Add(new Edge(src, dest, e.Requirements));
            }
        }
    }
}
